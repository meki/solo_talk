<!doctype html>
<html ng-app="chat" lang="ja">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Yumeno Kumo</title>
    <link rel="icon" type="image/png" href="/img/favicon.png">

    <script src="/socket.io-client/dist/socket.io.slim.js"></script>
    <script src="/jquery/jquery-3.2.1.min.js"></script>
    <link rel="stylesheet" href="/semantic-ui/semantic.min.css">
    <script src="/semantic-ui/semantic.min.js"></script>
    <link rel="stylesheet" href="/css/style.css">
  </head>
  <body>
    <div id="wrapper">
      <img id="image_panel" style="position: fixed; width: 960px; top: 16px; left:calc(50% - 960px/2);" src="img/welcome.jpg"/>
      
      <div id="jimaku_container" style="font-size: 120%; position: fixed; color:white; width: 880px; bottom: 80px; left:calc(50% - 880px/2); text-shadow: black 2px 2px 0px, black -2px 2px 0px, black 2px -2px 0px, black -2px -2px 0px;">
        <div id ="jimaku1">
        
        </div>
        <div id ="jimaku2" style="margin-top: 24px;">
          
        </div>  
      </div>
      <div id="messages"></div>

    <div id="sendButton" class="ui green right labeled icon button" onclick="btn_start()" style="position: fixed; bottom:16px; right: 150px;">
      <i class="send icon"></i>開始
    </div>

    <div id="logoutButton" class="ui red right labeled icon button" onclick="btn_stop()" style="position: fixed; bottom:16px; right: 32px;">
      <i class="sign out alternate icon"></i>終了
    </div>

    <script src="/mithril/mithril.min.js"></script>
    <script src="/js/app.js"></script>
    <script>
      function btn_stop() {
        isContinuousMode = false;
        recognition.abort();
      }
      function btn_start() {
        isContinuousMode = true;
        recognition.start();
        ShowText2("夢の雲スタート。これから1時間、自由に喋って下さい。")
        imageIdx++;
        switchImage();
        setInterval(() => {
          imageIdx++;
          switchImage();
        }, 60000);
      }
    </script>
  </body>
</html>
